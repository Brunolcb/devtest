name: AI Code Check

on:
  workflow_dispatch:
  pull_request:
    branches: [ master ]
    types: [ opened, synchronize ]

jobs:
  ai-check:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
      
    - name: AI Citric-Sheep Watchdog
      uses: Citric-Sheep/ai-watchdog@v0.2.1
      with:
        openai-api-key: ${{ secrets.OPENAI_API_KEY }}
